{"ast":null,"code":"var _jsxFileName = \"/Users/ace/Documents/Hack.Diversity/Mini Project/community-library/src/components/borrow-book.component.js\";\nimport React, { useState, useEffect } from 'react';\nimport Table from 'react-bootstrap/Table';\nimport Button from 'react-bootstrap/Button';\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\nimport Col from 'react-bootstrap/Col';\nimport { Link } from 'react-router-dom';\nimport Axios from 'axios';\nimport Image from 'react-bootstrap/Image';\n\nconst BorrowBook = () => {\n  const [posts, setPosts] = useState([]);\n  useEffect(() => {\n    const fetchPosts = async () => {\n      const res = await Axios.get('http://localhost:5000/books/');\n      setPosts(res.data);\n    };\n\n    fetchPosts();\n  }, []);\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 14\n      }\n    }, \"Loading...\");\n  }\n\n  const deleteBook = id => {\n    Axios.delete('http://localhost:5000/books/delete/' + id).then(res => console.log(res.data)); //Might need to make other function/ see 1:35:45\n    //To filter 0 copies\n    //el.copies !== 0\n\n    posts = posts.filter(el => el._id !== id);\n    window.location = '/community-library/';\n  };\n\n  const returnBook = id => {\n    Axios.post('http://localhost:5000/books/return/' + id).then(res => console.log(res.data)); // refresh page\n    // might change to just re render view DOM with react\n\n    window.location = '/community-library/';\n  };\n\n  const borrowBook = id => {\n    Axios.post('http://localhost:5000/books/borrow/' + id).then(res => console.log(res.data));\n    window.location = '/community-library/';\n  };\n\n  const copies = copy => {\n    if (copy == 0) {\n      return \"Unavailable\";\n    }\n\n    return copy;\n  }; // Create Copies function with state ( Look at BL2 )\n  // Iniside Copies function, use effect the books copies from posts using map\n  // Set copies after return or borrow, prolly put inside where posts at \n\n\n  return /*#__PURE__*/React.createElement(Table, {\n    size: true,\n    responsive: true,\n    bordered: true,\n    striped: true,\n    hover: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    className: \"thead-light flex-table text-align-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    className: \"text-align-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 31\n    }\n  }, \"Image\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"text-align-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 31\n    }\n  }, \"Title\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 31\n    }\n  }, \"Author\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 31\n    }\n  }, \"Year of Publication\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 31\n    }\n  }, \"ISBN\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 31\n    }\n  }, \"Copies\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 23\n    }\n  }, posts.map(post => /*#__PURE__*/React.createElement(\"tr\", {\n    key: post.id,\n    className: \"bordered\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    src: post.image_url_s,\n    alt: post.title,\n    fluid: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 16\n    }\n  }), \" \"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }, post.title), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }\n  }, post.author), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 11\n    }\n  }, post.publication_year), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }\n  }, post.isbn), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }\n  }, copies(post.copies)), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(ButtonGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/show/\" + post._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 44\n    }\n  }, \"Details\")), \" \", ' ', /*#__PURE__*/React.createElement(Button, {\n    display: \"inline-block\",\n    variant: \"danger\",\n    href: \"#\",\n    onClick: () => {\n      deleteBook(post._id);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 15\n    }\n  }, \"Delete\"), \" \", ' ', /*#__PURE__*/React.createElement(Button, {\n    display: \"inline-block\",\n    variant: \"success\",\n    href: \"#\",\n    onClick: () => {\n      returnBook(post._id);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 15\n    }\n  }, \"Return\"), \" \", ' ', /*#__PURE__*/React.createElement(Button, {\n    className: \"text-white\",\n    display: \"inline-block\",\n    variant: \"warning\",\n    href: \"#\",\n    onClick: () => {\n      borrowBook(post._id);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 15\n    }\n  }, \"Borrow\"), \" \", ' ')))))));\n};\n\nexport default BorrowBook;","map":{"version":3,"sources":["/Users/ace/Documents/Hack.Diversity/Mini Project/community-library/src/components/borrow-book.component.js"],"names":["React","useState","useEffect","Table","Button","ButtonGroup","Col","Link","Axios","Image","BorrowBook","posts","setPosts","fetchPosts","res","get","data","loading","deleteBook","id","delete","then","console","log","filter","el","_id","window","location","returnBook","post","borrowBook","copies","copy","map","image_url_s","title","author","publication_year","isbn"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'; \nimport Table from 'react-bootstrap/Table';\nimport Button from 'react-bootstrap/Button'\nimport ButtonGroup from 'react-bootstrap/ButtonGroup'\nimport Col from 'react-bootstrap/Col'\nimport { Link } from 'react-router-dom';\nimport Axios from 'axios';\nimport Image from 'react-bootstrap/Image'\n\nconst BorrowBook = () => {\n\n    const [posts, setPosts] = useState([]);\n\n    useEffect(() => {\n        const fetchPosts = async () => {\n          \n          const res = await Axios.get('http://localhost:5000/books/');\n          setPosts(res.data);\n          \n        };\n    \n        fetchPosts();\n      }, []);\n    \n  \n    if (loading) {\n      return <h2>Loading...</h2>;\n    }\n  \n    const deleteBook = (id) => {\n      \n      Axios.delete('http://localhost:5000/books/delete/'+id)\n          .then(res => console.log(res.data));\n      \n          //Might need to make other function/ see 1:35:45\n          //To filter 0 copies\n  \n          //el.copies !== 0\n      \n      posts = posts.filter(el => el._id !== id)\n      \n      window.location = ('/community-library/')\n      \n      \n  }\n  \n  const returnBook = ( id) => {\n    Axios.post('http://localhost:5000/books/return/'+id)\n        .then(res => console.log(res.data));\n  \n  \n    // refresh page\n    // might change to just re render view DOM with react\n    window.location = ('/community-library/')\n  }\n  \n  const borrowBook = (id) => {\n    Axios.post('http://localhost:5000/books/borrow/'+id)\n        .then(res => console.log(res.data));\n    \n    window.location='/community-library/'\n  }\n  \n  const copies = (copy) => {\n    if (copy == 0){\n      return \"Unavailable\"\n    }\n    return copy\n  }\n  \n  // Create Copies function with state ( Look at BL2 )\n  // Iniside Copies function, use effect the books copies from posts using map\n  // Set copies after return or borrow, prolly put inside where posts at \n  \n  \n  \n  \n    return (\n      <Table size responsive bordered striped hover >\n        <thead className='thead-light flex-table text-align-center'>\n                          <tr>\n                              <th className='text-align-center' >Image</th>\n                              <th className = 'text-align-center'>Title</th>\n                              <th>Author</th>\n                              <th>Year of Publication</th>\n                              <th>ISBN</th>\n                              <th>Copies</th>\n                          </tr>\n                      </thead>\n                      <tbody>\n  \n        {posts.map(post => (\n          <tr key={post.id} className=\"bordered\">\n             \n          \n          <td ><Image src={post.image_url_s}  alt={post.title} fluid /> </td>\n          <td>{post.title}</td>\n          <td>{post.author}</td>\n          <td>{post.publication_year}</td>\n          <td>{post.isbn}</td>\n          <td>{copies(post.copies)}</td>\n          <td>\n              <Col>\n              <ButtonGroup>\n              <Link to={\"/show/\"+post._id}><Button variant = 'info'>Details</Button></Link> {' '}\n              <Button   display = 'inline-block' variant = 'danger' href = '#' onClick = {() => { deleteBook(post._id) }} >Delete</Button> {' '} \n              <Button  display = 'inline-block' variant = 'success' href=\"#\" onClick={() => { returnBook(post._id) }}>Return</Button> {' '}\n              <Button className = 'text-white'  display = 'inline-block' variant = 'warning' href=\"#\" onClick={() => { borrowBook(post._id) }}>Borrow</Button> {' '}\n              </ButtonGroup>\n              </Col>\n          </td>\n          \n      </tr>\n          \n        ))}\n        </tbody>\n      </Table>\n    );\n  };\n  \n  export default BorrowBook;\n  "]},"metadata":{},"sourceType":"module"}