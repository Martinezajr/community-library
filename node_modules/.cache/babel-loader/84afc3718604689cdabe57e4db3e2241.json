{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _cssClasses = require('../cssClasses');\n\nvar _cssClasses2 = _interopRequireDefault(_cssClasses);\n\nvar _CSSTranslate = require('../CSSTranslate');\n\nvar _CSSTranslate2 = _interopRequireDefault(_CSSTranslate);\n\nvar _reactEasySwipe = require('react-easy-swipe');\n\nvar _reactEasySwipe2 = _interopRequireDefault(_reactEasySwipe);\n\nvar _Thumbs = require('./Thumbs');\n\nvar _Thumbs2 = _interopRequireDefault(_Thumbs);\n\nvar _customPropTypes = require('../customPropTypes');\n\nvar customPropTypes = _interopRequireWildcard(_customPropTypes);\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar noop = function noop() {};\n\nvar defaultStatusFormatter = function defaultStatusFormatter(current, total) {\n  return current + ' of ' + total;\n};\n\nvar Carousel = function (_Component) {\n  _inherits(Carousel, _Component);\n\n  function Carousel(props) {\n    _classCallCheck(this, Carousel);\n\n    var _this = _possibleConstructorReturn(this, (Carousel.__proto__ || Object.getPrototypeOf(Carousel)).call(this, props));\n\n    _this.setThumbsRef = function (node) {\n      _this.thumbsRef = node;\n    };\n\n    _this.setCarouselWrapperRef = function (node) {\n      _this.carouselWrapperRef = node;\n    };\n\n    _this.setListRef = function (node) {\n      _this.listRef = node;\n    };\n\n    _this.setItemsWrapperRef = function (node) {\n      _this.itemsWrapperRef = node;\n    };\n\n    _this.setItemsRef = function (node, index) {\n      if (!_this.itemsRef) {\n        _this.itemsRef = [];\n      }\n\n      _this.itemsRef[index] = node;\n    };\n\n    _this.autoPlay = function () {\n      if (!_this.state.autoPlay || _react.Children.count(_this.props.children) <= 1) {\n        return;\n      }\n\n      clearTimeout(_this.timer);\n      _this.timer = setTimeout(function () {\n        _this.increment();\n      }, _this.props.interval);\n    };\n\n    _this.clearAutoPlay = function () {\n      if (!_this.state.autoPlay) {\n        return;\n      }\n\n      clearTimeout(_this.timer);\n    };\n\n    _this.resetAutoPlay = function () {\n      _this.clearAutoPlay();\n\n      _this.autoPlay();\n    };\n\n    _this.stopOnHover = function () {\n      _this.setState({\n        isMouseEntered: true\n      });\n\n      _this.clearAutoPlay();\n    };\n\n    _this.startOnLeave = function () {\n      _this.setState({\n        isMouseEntered: false\n      });\n\n      _this.autoPlay();\n    };\n\n    _this.isFocusWithinTheCarousel = function () {\n      if (document.activeElement === _this.carouselWrapperRef || _this.carouselWrapperRef.contains(document.activeElement)) {\n        return true;\n      }\n\n      return false;\n    };\n\n    _this.navigateWithKeyboard = function (e) {\n      if (!_this.isFocusWithinTheCarousel()) {\n        return;\n      }\n\n      var axis = _this.props.axis;\n      var isHorizontal = axis === 'horizontal';\n      var keyNames = {\n        ArrowUp: 38,\n        ArrowRight: 39,\n        ArrowDown: 40,\n        ArrowLeft: 37\n      };\n      var nextKey = isHorizontal ? keyNames.ArrowRight : keyNames.ArrowDown;\n      var prevKey = isHorizontal ? keyNames.ArrowLeft : keyNames.ArrowUp;\n\n      if (nextKey === e.keyCode) {\n        _this.increment();\n      } else if (prevKey === e.keyCode) {\n        _this.decrement();\n      }\n    };\n\n    _this.updateSizes = function () {\n      if (!_this.state.initialized) {\n        return;\n      }\n\n      var isHorizontal = _this.props.axis === 'horizontal';\n      var firstItem = _this.itemsRef[0];\n      var itemSize = isHorizontal ? firstItem.clientWidth : firstItem.clientHeight;\n\n      _this.setState(function (_state, props) {\n        return {\n          itemSize: itemSize\n        };\n      });\n\n      if (_this.thumbsRef) {\n        _this.thumbsRef.updateSizes();\n      }\n    };\n\n    _this.setMountState = function () {\n      _this.setState({\n        hasMount: true\n      });\n\n      _this.updateSizes();\n    };\n\n    _this.handleClickItem = function (index, item) {\n      if (_react.Children.count(_this.props.children) === 0) {\n        return;\n      }\n\n      if (_this.state.cancelClick) {\n        _this.setState({\n          cancelClick: false\n        });\n\n        return;\n      }\n\n      _this.props.onClickItem(index, item);\n\n      if (index !== _this.state.selectedItem) {\n        _this.setState({\n          selectedItem: index\n        });\n      }\n    };\n\n    _this.handleOnChange = function (index, item) {\n      if (_react.Children.count(_this.props.children) <= 1) {\n        return;\n      }\n\n      _this.props.onChange(index, item);\n    };\n\n    _this.handleClickThumb = function (index, item) {\n      _this.props.onClickThumb(index, item);\n\n      _this.selectItem({\n        selectedItem: index\n      });\n    };\n\n    _this.onSwipeStart = function (event) {\n      _this.setState({\n        swiping: true\n      });\n\n      _this.props.onSwipeStart(event);\n\n      _this.clearAutoPlay();\n    };\n\n    _this.onSwipeEnd = function (event) {\n      _this.setState({\n        swiping: false,\n        cancelClick: false\n      });\n\n      _this.props.onSwipeEnd(event);\n\n      _this.autoPlay();\n    };\n\n    _this.onSwipeMove = function (delta, event) {\n      _this.props.onSwipeMove(event);\n\n      var isHorizontal = _this.props.axis === 'horizontal';\n\n      var childrenLength = _react.Children.count(_this.props.children);\n\n      var initialBoundry = 0;\n\n      var currentPosition = _this.getPosition(_this.state.selectedItem);\n\n      var finalBoundry = _this.props.infiniteLoop ? _this.getPosition(childrenLength - 1) - 100 : _this.getPosition(childrenLength - 1);\n      var axisDelta = isHorizontal ? delta.x : delta.y;\n      var handledDelta = axisDelta; // prevent user from swiping left out of boundaries\n\n      if (currentPosition === initialBoundry && axisDelta > 0) {\n        handledDelta = 0;\n      } // prevent user from swiping right out of boundaries\n\n\n      if (currentPosition === finalBoundry && axisDelta < 0) {\n        handledDelta = 0;\n      }\n\n      var position = currentPosition + 100 / (_this.state.itemSize / handledDelta);\n\n      if (_this.props.infiniteLoop) {\n        // When allowing infinite loop, if we slide left from position 0 we reveal the cloned last slide that appears before it\n        // if we slide even further we need to jump to other side so it can continue - and vice versa for the last slide\n        if (_this.state.selectedItem === 0 && position > -100) {\n          position -= childrenLength * 100;\n        } else if (_this.state.selectedItem === childrenLength - 1 && position < -childrenLength * 100) {\n          position += childrenLength * 100;\n        }\n      }\n\n      position += '%';\n\n      _this.setPosition(position); // allows scroll if the swipe was within the tolerance\n\n\n      var hasMoved = Math.abs(axisDelta) > _this.props.swipeScrollTolerance;\n\n      if (hasMoved && !_this.state.cancelClick) {\n        _this.setState({\n          cancelClick: true\n        });\n      }\n\n      return hasMoved;\n    };\n\n    _this.setPosition = function (position, forceReflow) {\n      var list = _reactDom2.default.findDOMNode(_this.listRef);\n\n      ['WebkitTransform', 'MozTransform', 'MsTransform', 'OTransform', 'transform', 'msTransform'].forEach(function (prop) {\n        list.style[prop] = (0, _CSSTranslate2.default)(position, _this.props.axis);\n      });\n\n      if (forceReflow) {\n        list.offsetLeft;\n      }\n    };\n\n    _this.resetPosition = function () {\n      var currentPosition = _this.getPosition(_this.state.selectedItem) + '%';\n\n      _this.setPosition(currentPosition);\n    };\n\n    _this.decrement = function () {\n      var positions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n      var fromSwipe = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      _this.moveTo(_this.state.selectedItem - (typeof positions === 'number' ? positions : 1), fromSwipe);\n    };\n\n    _this.increment = function () {\n      var positions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n      var fromSwipe = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      _this.moveTo(_this.state.selectedItem + (typeof positions === 'number' ? positions : 1), fromSwipe);\n    };\n\n    _this.moveTo = function (position, fromSwipe) {\n      var lastPosition = _react.Children.count(_this.props.children) - 1;\n      var needClonedSlide = _this.props.infiniteLoop && !fromSwipe && (position < 0 || position > lastPosition);\n      var oldPosition = position;\n\n      if (position < 0) {\n        position = _this.props.infiniteLoop ? lastPosition : 0;\n      }\n\n      if (position > lastPosition) {\n        position = _this.props.infiniteLoop ? 0 : lastPosition;\n      }\n\n      if (needClonedSlide) {\n        // set swiping true would disable transition time, then we set slider to cloned position and force a reflow\n        // this is only needed for non-swiping situation\n        _this.setState({\n          swiping: true\n        }, function () {\n          if (oldPosition < 0) {\n            if (_this.props.centerMode && _this.props.axis === 'horizontal') {\n              _this.setPosition('-' + ((lastPosition + 2) * _this.props.centerSlidePercentage - (100 - _this.props.centerSlidePercentage) / 2) + '%', true);\n            } else {\n              _this.setPosition('-' + (lastPosition + 2) * 100 + '%', true);\n            }\n          } else if (oldPosition > lastPosition) {\n            _this.setPosition(0, true);\n          }\n\n          _this.selectItem({\n            selectedItem: position,\n            swiping: false\n          });\n        });\n      } else {\n        _this.selectItem({\n          // if it's not a slider, we don't need to set position here\n          selectedItem: position\n        });\n      } // don't reset auto play when stop on hover is enabled, doing so will trigger a call to auto play more than once\n      // and will result in the interval function not being cleared correctly.\n\n\n      if (_this.state.autoPlay && _this.state.isMouseEntered === false) {\n        _this.resetAutoPlay();\n      }\n    };\n\n    _this.onClickNext = function () {\n      _this.increment(1, false);\n    };\n\n    _this.onClickPrev = function () {\n      _this.decrement(1, false);\n    };\n\n    _this.onSwipeForward = function () {\n      _this.increment(1, true);\n    };\n\n    _this.onSwipeBackwards = function () {\n      _this.decrement(1, true);\n    };\n\n    _this.changeItem = function (e) {\n      if (!e.key || e.key === 'Enter') {\n        var newIndex = e.target.value;\n\n        _this.selectItem({\n          selectedItem: newIndex\n        });\n      }\n    };\n\n    _this.selectItem = function (state, cb) {\n      _this.setState(state, cb);\n\n      _this.handleOnChange(state.selectedItem, _react.Children.toArray(_this.props.children)[state.selectedItem]);\n    };\n\n    _this.getInitialImage = function () {\n      var selectedItem = _this.props.selectedItem;\n      var item = _this.itemsRef && _this.itemsRef[selectedItem];\n      var images = item && item.getElementsByTagName('img');\n      return images && images[selectedItem];\n    };\n\n    _this.getVariableImageHeight = function (position) {\n      var item = _this.itemsRef && _this.itemsRef[position];\n      var images = item && item.getElementsByTagName('img');\n\n      if (_this.state.hasMount && images.length > 0) {\n        var image = images[0];\n\n        if (!image.complete) {\n          // if the image is still loading, the size won't be available so we trigger a new render after it's done\n          var onImageLoad = function onImageLoad() {\n            _this.forceUpdate();\n\n            image.removeEventListener('load', onImageLoad);\n          };\n\n          image.addEventListener('load', onImageLoad);\n        }\n\n        var height = image.clientHeight;\n        return height > 0 ? height : null;\n      }\n\n      return null;\n    };\n\n    _this.state = {\n      initialized: false,\n      selectedItem: props.selectedItem,\n      hasMount: false,\n      isMouseEntered: false,\n      autoPlay: props.autoPlay\n    };\n    return _this;\n  }\n\n  _createClass(Carousel, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      if (!this.props.children) {\n        return;\n      }\n\n      this.setupCarousel();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (!prevProps.children && this.props.children && !this.state.initialized) {\n        this.setupCarousel();\n      }\n\n      if (prevState.swiping && !this.state.swiping) {\n        // We stopped swiping, ensure we are heading to the new/current slide and not stuck\n        this.resetPosition();\n      }\n\n      if (prevProps.selectedItem !== this.props.selectedItem) {\n        this.updateSizes();\n        this.moveTo(this.props.selectedItem);\n      }\n\n      if (prevProps.autoPlay !== this.props.autoPlay) {\n        if (this.props.autoPlay) {\n          this.setupAutoPlay();\n        } else {\n          this.destroyAutoPlay();\n        }\n\n        this.setState({\n          autoPlay: this.props.autoPlay\n        });\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.destroyCarousel();\n    }\n  }, {\n    key: 'setupCarousel',\n    value: function setupCarousel() {\n      this.bindEvents();\n\n      if (this.state.autoPlay && _react.Children.count(this.props.children) > 1) {\n        this.setupAutoPlay();\n      }\n\n      this.setState({\n        initialized: true\n      });\n      var initialImage = this.getInitialImage();\n\n      if (initialImage) {\n        // if it's a carousel of images, we set the mount state after the first image is loaded\n        initialImage.addEventListener('load', this.setMountState);\n      } else {\n        this.setMountState();\n      }\n    }\n  }, {\n    key: 'destroyCarousel',\n    value: function destroyCarousel() {\n      if (this.state.initialized) {\n        this.unbindEvents();\n        this.destroyAutoPlay();\n      }\n    }\n  }, {\n    key: 'setupAutoPlay',\n    value: function setupAutoPlay() {\n      this.autoPlay();\n      var carouselWrapper = this.carouselWrapperRef;\n\n      if (this.props.stopOnHover && carouselWrapper) {\n        carouselWrapper.addEventListener('mouseenter', this.stopOnHover);\n        carouselWrapper.addEventListener('mouseleave', this.startOnLeave);\n      }\n    }\n  }, {\n    key: 'destroyAutoPlay',\n    value: function destroyAutoPlay() {\n      this.clearAutoPlay();\n      var carouselWrapper = this.carouselWrapperRef;\n\n      if (this.props.stopOnHover && carouselWrapper) {\n        carouselWrapper.removeEventListener('mouseenter', this.stopOnHover);\n        carouselWrapper.removeEventListener('mouseleave', this.startOnLeave);\n      }\n    }\n  }, {\n    key: 'bindEvents',\n    value: function bindEvents() {\n      // as the widths are calculated, we need to resize\n      // the carousel when the window is resized\n      window.addEventListener('resize', this.updateSizes); // issue #2 - image loading smaller\n\n      window.addEventListener('DOMContentLoaded', this.updateSizes);\n\n      if (this.props.useKeyboardArrows) {\n        document.addEventListener('keydown', this.navigateWithKeyboard);\n      }\n    }\n  }, {\n    key: 'unbindEvents',\n    value: function unbindEvents() {\n      // removing listeners\n      window.removeEventListener('resize', this.updateSizes);\n      window.removeEventListener('DOMContentLoaded', this.updateSizes);\n      var initialImage = this.getInitialImage();\n\n      if (initialImage) {\n        initialImage.removeEventListener('load', this.setMountState);\n      }\n\n      if (this.props.useKeyboardArrows) {\n        document.removeEventListener('keydown', this.navigateWithKeyboard);\n      }\n    }\n  }, {\n    key: 'getPosition',\n    value: function getPosition(index) {\n      if (this.props.infiniteLoop) {\n        // index has to be added by 1 because of the first cloned slide\n        ++index;\n      }\n\n      var childrenLength = _react.Children.count(this.props.children);\n\n      if (this.props.centerMode && this.props.axis === 'horizontal') {\n        var currentPosition = -index * this.props.centerSlidePercentage;\n        var lastPosition = childrenLength - 1;\n\n        if (index && (index !== lastPosition || this.props.infiniteLoop)) {\n          currentPosition += (100 - this.props.centerSlidePercentage) / 2;\n        } else if (index === lastPosition) {\n          currentPosition += 100 - this.props.centerSlidePercentage;\n        }\n\n        return currentPosition;\n      }\n\n      return -index * 100;\n    }\n  }, {\n    key: 'renderItems',\n    value: function renderItems(isClone) {\n      var _this2 = this;\n\n      return _react.Children.map(this.props.children, function (item, index) {\n        var slideProps = {\n          ref: function ref(e) {\n            return _this2.setItemsRef(e, index);\n          },\n          key: 'itemKey' + index + (isClone ? 'clone' : ''),\n          className: _cssClasses2.default.ITEM(true, index === _this2.state.selectedItem),\n          onClick: _this2.handleClickItem.bind(_this2, index, item)\n        };\n\n        if (_this2.props.centerMode && _this2.props.axis === 'horizontal') {\n          slideProps.style = {\n            minWidth: _this2.props.centerSlidePercentage + '%'\n          };\n        }\n\n        return _react2.default.createElement('li', slideProps, item);\n      });\n    }\n  }, {\n    key: 'renderControls',\n    value: function renderControls() {\n      var _this3 = this;\n\n      if (!this.props.showIndicators) {\n        return null;\n      }\n\n      return _react2.default.createElement('ul', {\n        className: 'control-dots'\n      }, _react.Children.map(this.props.children, function (item, index) {\n        return _this3.props.renderIndicator(_this3.changeItem, index === _this3.state.selectedItem, index, _this3.props.labels.item);\n      }));\n    }\n  }, {\n    key: 'renderStatus',\n    value: function renderStatus() {\n      if (!this.props.showStatus) {\n        return null;\n      }\n\n      return _react2.default.createElement('p', {\n        className: 'carousel-status'\n      }, this.props.statusFormatter(this.state.selectedItem + 1, _react.Children.count(this.props.children)));\n    }\n  }, {\n    key: 'renderThumbs',\n    value: function renderThumbs() {\n      if (!this.props.showThumbs || _react.Children.count(this.props.children) === 0) {\n        return null;\n      }\n\n      return _react2.default.createElement(_Thumbs2.default, {\n        ref: this.setThumbsRef,\n        onSelectItem: this.handleClickThumb,\n        selectedItem: this.state.selectedItem,\n        transitionTime: this.props.transitionTime,\n        thumbWidth: this.props.thumbWidth,\n        labels: this.props.labels\n      }, this.props.children);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      if (!this.props.children || _react.Children.count(this.props.children) === 0) {\n        return null;\n      }\n\n      var isHorizontal = this.props.axis === 'horizontal';\n      var canShowArrows = this.props.showArrows && _react.Children.count(this.props.children) > 1; // show left arrow?\n\n      var hasPrev = canShowArrows && (this.state.selectedItem > 0 || this.props.infiniteLoop); // show right arrow\n\n      var hasNext = canShowArrows && (this.state.selectedItem < _react.Children.count(this.props.children) - 1 || this.props.infiniteLoop); // obj to hold the transformations and styles\n\n      var itemListStyles = {};\n      var currentPosition = this.getPosition(this.state.selectedItem); // if 3d is available, let's take advantage of the performance of transform\n\n      var transformProp = (0, _CSSTranslate2.default)(currentPosition + '%', this.props.axis);\n      var transitionTime = this.props.transitionTime + 'ms';\n      itemListStyles = {\n        WebkitTransform: transformProp,\n        MozTransform: transformProp,\n        MsTransform: transformProp,\n        OTransform: transformProp,\n        transform: transformProp,\n        msTransform: transformProp\n      };\n\n      if (!this.state.swiping) {\n        itemListStyles = _extends({}, itemListStyles, {\n          WebkitTransitionDuration: transitionTime,\n          MozTransitionDuration: transitionTime,\n          MsTransitionDuration: transitionTime,\n          OTransitionDuration: transitionTime,\n          transitionDuration: transitionTime,\n          msTransitionDuration: transitionTime\n        });\n      }\n\n      var itemsClone = this.renderItems(true);\n      var firstClone = itemsClone.shift();\n      var lastClone = itemsClone.pop();\n      var swiperProps = {\n        className: _cssClasses2.default.SLIDER(true, this.state.swiping),\n        onSwipeMove: this.onSwipeMove,\n        onSwipeStart: this.onSwipeStart,\n        onSwipeEnd: this.onSwipeEnd,\n        style: itemListStyles,\n        tolerance: this.props.swipeScrollTolerance\n      };\n      var containerStyles = {};\n\n      if (isHorizontal) {\n        swiperProps.onSwipeLeft = this.onSwipeForward;\n        swiperProps.onSwipeRight = this.onSwipeBackwards;\n\n        if (this.props.dynamicHeight) {\n          var itemHeight = this.getVariableImageHeight(this.state.selectedItem);\n          swiperProps.style.height = itemHeight || 'auto';\n          containerStyles.height = itemHeight || 'auto';\n        }\n      } else {\n        swiperProps.onSwipeUp = this.props.verticalSwipe === 'natural' ? this.onSwipeBackwards : this.onSwipeForward;\n        swiperProps.onSwipeDown = this.props.verticalSwipe === 'natural' ? this.onSwipeForward : this.onSwipeBackwards;\n        swiperProps.style.height = this.state.itemSize;\n        containerStyles.height = this.state.itemSize;\n      }\n\n      return _react2.default.createElement('div', {\n        className: _cssClasses2.default.ROOT(this.props.className),\n        ref: this.setCarouselWrapperRef,\n        tabIndex: '0'\n      }, _react2.default.createElement('div', {\n        className: _cssClasses2.default.CAROUSEL(true),\n        style: {\n          width: this.props.width\n        }\n      }, this.props.renderArrowPrev(this.onClickPrev, hasPrev, this.props.labels.leftArrow), _react2.default.createElement('div', {\n        className: _cssClasses2.default.WRAPPER(true, this.props.axis),\n        style: containerStyles,\n        ref: this.setItemsWrapperRef\n      }, this.props.swipeable ? _react2.default.createElement(_reactEasySwipe2.default, _extends({\n        tagName: 'ul',\n        ref: this.setListRef\n      }, swiperProps, {\n        allowMouseEvents: this.props.emulateTouch\n      }), this.props.infiniteLoop && lastClone, this.renderItems(), this.props.infiniteLoop && firstClone) : _react2.default.createElement('ul', {\n        className: _cssClasses2.default.SLIDER(true, this.state.swiping),\n        ref: this.setListRef,\n        style: itemListStyles\n      }, this.props.infiniteLoop && lastClone, this.renderItems(), this.props.infiniteLoop && firstClone)), this.props.renderArrowNext(this.onClickNext, hasNext, this.props.labels.rightArrow), this.renderControls(), this.renderStatus()), this.renderThumbs());\n    }\n  }]);\n\n  return Carousel;\n}(_react.Component);\n\nCarousel.displayName = 'Carousel';\nCarousel.propTypes = {\n  className: _propTypes2.default.string,\n  children: _propTypes2.default.node,\n  showArrows: _propTypes2.default.bool,\n  showStatus: _propTypes2.default.bool,\n  showIndicators: _propTypes2.default.bool,\n  infiniteLoop: _propTypes2.default.bool,\n  showThumbs: _propTypes2.default.bool,\n  thumbWidth: _propTypes2.default.number,\n  selectedItem: _propTypes2.default.number,\n  onClickItem: _propTypes2.default.func.isRequired,\n  onClickThumb: _propTypes2.default.func.isRequired,\n  onChange: _propTypes2.default.func.isRequired,\n  axis: _propTypes2.default.oneOf(['horizontal', 'vertical']),\n  verticalSwipe: _propTypes2.default.oneOf(['natural', 'standard']),\n  width: customPropTypes.unit,\n  useKeyboardArrows: _propTypes2.default.bool,\n  autoPlay: _propTypes2.default.bool,\n  stopOnHover: _propTypes2.default.bool,\n  interval: _propTypes2.default.number,\n  transitionTime: _propTypes2.default.number,\n  swipeScrollTolerance: _propTypes2.default.number,\n  swipeable: _propTypes2.default.bool,\n  dynamicHeight: _propTypes2.default.bool,\n  emulateTouch: _propTypes2.default.bool,\n  statusFormatter: _propTypes2.default.func.isRequired,\n  centerMode: _propTypes2.default.bool,\n  centerSlidePercentage: _propTypes2.default.number,\n  labels: _propTypes2.default.shape({\n    leftArrow: _propTypes2.default.string,\n    rightArrow: _propTypes2.default.string,\n    item: _propTypes2.default.string\n  }),\n  onSwipeStart: _propTypes2.default.func,\n  onSwipeEnd: _propTypes2.default.func,\n  onSwipeMove: _propTypes2.default.func,\n  renderArrowPrev: _propTypes2.default.func,\n  renderArrowNext: _propTypes2.default.func,\n  renderIndicator: _propTypes2.default.func\n};\nCarousel.defaultProps = {\n  showIndicators: true,\n  showArrows: true,\n  showStatus: true,\n  showThumbs: true,\n  infiniteLoop: false,\n  selectedItem: 0,\n  axis: 'horizontal',\n  verticalSwipe: 'standard',\n  width: '100%',\n  useKeyboardArrows: false,\n  autoPlay: false,\n  stopOnHover: true,\n  interval: 3000,\n  transitionTime: 350,\n  swipeScrollTolerance: 5,\n  swipeable: true,\n  dynamicHeight: false,\n  emulateTouch: false,\n  onClickItem: noop,\n  onClickThumb: noop,\n  onChange: noop,\n  statusFormatter: defaultStatusFormatter,\n  centerMode: false,\n  centerSlidePercentage: 80,\n  labels: {\n    leftArrow: 'previous slide / item',\n    rightArrow: 'next slide / item',\n    item: 'slide item'\n  },\n  onSwipeStart: function onSwipeStart() {},\n  onSwipeEnd: function onSwipeEnd() {},\n  onSwipeMove: function onSwipeMove() {},\n  renderArrowPrev: function renderArrowPrev(onClickHandler, hasPrev, label) {\n    return _react2.default.createElement('button', {\n      type: 'button',\n      'aria-label': label,\n      className: _cssClasses2.default.ARROW_PREV(!hasPrev),\n      onClick: onClickHandler\n    });\n  },\n  renderArrowNext: function renderArrowNext(onClickHandler, hasNext, label) {\n    return _react2.default.createElement('button', {\n      type: 'button',\n      'aria-label': label,\n      className: _cssClasses2.default.ARROW_NEXT(!hasNext),\n      onClick: onClickHandler\n    });\n  },\n  renderIndicator: function renderIndicator(onClickHandler, isSelected, index, label) {\n    return _react2.default.createElement('li', {\n      className: _cssClasses2.default.DOT(isSelected),\n      onClick: onClickHandler,\n      onKeyDown: onClickHandler,\n      value: index,\n      key: index,\n      role: 'button',\n      tabIndex: 0,\n      'aria-label': label + ' ' + (index + 1)\n    });\n  }\n};\nexports.default = Carousel;","map":{"version":3,"sources":["/Users/ace/Documents/Hack.Diversity/Mini Project/community-library/node_modules/react-responsive-carousel/lib/components/Carousel.js"],"names":["Object","defineProperty","exports","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_react","require","_react2","_interopRequireDefault","_reactDom","_reactDom2","_propTypes","_propTypes2","_cssClasses","_cssClasses2","_CSSTranslate","_CSSTranslate2","_reactEasySwipe","_reactEasySwipe2","_Thumbs","_Thumbs2","_customPropTypes","customPropTypes","_interopRequireWildcard","obj","__esModule","newObj","default","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","noop","defaultStatusFormatter","current","total","Carousel","_Component","_this","getPrototypeOf","setThumbsRef","node","thumbsRef","setCarouselWrapperRef","carouselWrapperRef","setListRef","listRef","setItemsWrapperRef","itemsWrapperRef","setItemsRef","index","itemsRef","autoPlay","state","Children","count","children","clearTimeout","timer","setTimeout","increment","interval","clearAutoPlay","resetAutoPlay","stopOnHover","setState","isMouseEntered","startOnLeave","isFocusWithinTheCarousel","document","activeElement","contains","navigateWithKeyboard","e","axis","isHorizontal","keyNames","ArrowUp","ArrowRight","ArrowDown","ArrowLeft","nextKey","prevKey","keyCode","decrement","updateSizes","initialized","firstItem","itemSize","clientWidth","clientHeight","_state","setMountState","hasMount","handleClickItem","item","cancelClick","onClickItem","selectedItem","handleOnChange","onChange","handleClickThumb","onClickThumb","selectItem","onSwipeStart","event","swiping","onSwipeEnd","onSwipeMove","delta","childrenLength","initialBoundry","currentPosition","getPosition","finalBoundry","infiniteLoop","axisDelta","x","y","handledDelta","position","setPosition","hasMoved","Math","abs","swipeScrollTolerance","forceReflow","list","findDOMNode","forEach","prop","style","offsetLeft","resetPosition","positions","undefined","fromSwipe","moveTo","lastPosition","needClonedSlide","oldPosition","centerMode","centerSlidePercentage","onClickNext","onClickPrev","onSwipeForward","onSwipeBackwards","changeItem","newIndex","cb","toArray","getInitialImage","images","getElementsByTagName","getVariableImageHeight","image","complete","onImageLoad","forceUpdate","removeEventListener","addEventListener","height","componentDidMount","setupCarousel","componentDidUpdate","prevProps","prevState","setupAutoPlay","destroyAutoPlay","componentWillUnmount","destroyCarousel","bindEvents","initialImage","unbindEvents","carouselWrapper","window","useKeyboardArrows","renderItems","isClone","_this2","map","slideProps","ref","className","ITEM","onClick","bind","minWidth","createElement","renderControls","_this3","showIndicators","renderIndicator","labels","renderStatus","showStatus","statusFormatter","renderThumbs","showThumbs","onSelectItem","transitionTime","thumbWidth","render","canShowArrows","showArrows","hasPrev","hasNext","itemListStyles","transformProp","WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform","WebkitTransitionDuration","MozTransitionDuration","MsTransitionDuration","OTransitionDuration","transitionDuration","msTransitionDuration","itemsClone","firstClone","shift","lastClone","pop","swiperProps","SLIDER","tolerance","containerStyles","onSwipeLeft","onSwipeRight","dynamicHeight","itemHeight","onSwipeUp","verticalSwipe","onSwipeDown","ROOT","tabIndex","CAROUSEL","width","renderArrowPrev","leftArrow","WRAPPER","swipeable","tagName","allowMouseEvents","emulateTouch","renderArrowNext","rightArrow","Component","displayName","propTypes","string","bool","number","func","isRequired","oneOf","unit","shape","defaultProps","onClickHandler","label","type","ARROW_PREV","ARROW_NEXT","isSelected","DOT","onKeyDown","role"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _cssClasses = require('../cssClasses');\n\nvar _cssClasses2 = _interopRequireDefault(_cssClasses);\n\nvar _CSSTranslate = require('../CSSTranslate');\n\nvar _CSSTranslate2 = _interopRequireDefault(_CSSTranslate);\n\nvar _reactEasySwipe = require('react-easy-swipe');\n\nvar _reactEasySwipe2 = _interopRequireDefault(_reactEasySwipe);\n\nvar _Thumbs = require('./Thumbs');\n\nvar _Thumbs2 = _interopRequireDefault(_Thumbs);\n\nvar _customPropTypes = require('../customPropTypes');\n\nvar customPropTypes = _interopRequireWildcard(_customPropTypes);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar noop = function noop() {};\n\nvar defaultStatusFormatter = function defaultStatusFormatter(current, total) {\n    return current + ' of ' + total;\n};\n\nvar Carousel = function (_Component) {\n    _inherits(Carousel, _Component);\n\n    function Carousel(props) {\n        _classCallCheck(this, Carousel);\n\n        var _this = _possibleConstructorReturn(this, (Carousel.__proto__ || Object.getPrototypeOf(Carousel)).call(this, props));\n\n        _this.setThumbsRef = function (node) {\n            _this.thumbsRef = node;\n        };\n\n        _this.setCarouselWrapperRef = function (node) {\n            _this.carouselWrapperRef = node;\n        };\n\n        _this.setListRef = function (node) {\n            _this.listRef = node;\n        };\n\n        _this.setItemsWrapperRef = function (node) {\n            _this.itemsWrapperRef = node;\n        };\n\n        _this.setItemsRef = function (node, index) {\n            if (!_this.itemsRef) {\n                _this.itemsRef = [];\n            }\n            _this.itemsRef[index] = node;\n        };\n\n        _this.autoPlay = function () {\n            if (!_this.state.autoPlay || _react.Children.count(_this.props.children) <= 1) {\n                return;\n            }\n\n            clearTimeout(_this.timer);\n            _this.timer = setTimeout(function () {\n                _this.increment();\n            }, _this.props.interval);\n        };\n\n        _this.clearAutoPlay = function () {\n            if (!_this.state.autoPlay) {\n                return;\n            }\n\n            clearTimeout(_this.timer);\n        };\n\n        _this.resetAutoPlay = function () {\n            _this.clearAutoPlay();\n            _this.autoPlay();\n        };\n\n        _this.stopOnHover = function () {\n            _this.setState({ isMouseEntered: true });\n            _this.clearAutoPlay();\n        };\n\n        _this.startOnLeave = function () {\n            _this.setState({ isMouseEntered: false });\n            _this.autoPlay();\n        };\n\n        _this.isFocusWithinTheCarousel = function () {\n            if (document.activeElement === _this.carouselWrapperRef || _this.carouselWrapperRef.contains(document.activeElement)) {\n                return true;\n            }\n\n            return false;\n        };\n\n        _this.navigateWithKeyboard = function (e) {\n            if (!_this.isFocusWithinTheCarousel()) {\n                return;\n            }\n\n            var axis = _this.props.axis;\n\n            var isHorizontal = axis === 'horizontal';\n            var keyNames = {\n                ArrowUp: 38,\n                ArrowRight: 39,\n                ArrowDown: 40,\n                ArrowLeft: 37\n            };\n\n            var nextKey = isHorizontal ? keyNames.ArrowRight : keyNames.ArrowDown;\n            var prevKey = isHorizontal ? keyNames.ArrowLeft : keyNames.ArrowUp;\n\n            if (nextKey === e.keyCode) {\n                _this.increment();\n            } else if (prevKey === e.keyCode) {\n                _this.decrement();\n            }\n        };\n\n        _this.updateSizes = function () {\n            if (!_this.state.initialized) {\n                return;\n            }\n\n            var isHorizontal = _this.props.axis === 'horizontal';\n            var firstItem = _this.itemsRef[0];\n            var itemSize = isHorizontal ? firstItem.clientWidth : firstItem.clientHeight;\n\n            _this.setState(function (_state, props) {\n                return {\n                    itemSize: itemSize\n                };\n            });\n\n            if (_this.thumbsRef) {\n                _this.thumbsRef.updateSizes();\n            }\n        };\n\n        _this.setMountState = function () {\n            _this.setState({ hasMount: true });\n            _this.updateSizes();\n        };\n\n        _this.handleClickItem = function (index, item) {\n            if (_react.Children.count(_this.props.children) === 0) {\n                return;\n            }\n\n            if (_this.state.cancelClick) {\n                _this.setState({\n                    cancelClick: false\n                });\n\n                return;\n            }\n\n            _this.props.onClickItem(index, item);\n\n            if (index !== _this.state.selectedItem) {\n                _this.setState({\n                    selectedItem: index\n                });\n            }\n        };\n\n        _this.handleOnChange = function (index, item) {\n            if (_react.Children.count(_this.props.children) <= 1) {\n                return;\n            }\n\n            _this.props.onChange(index, item);\n        };\n\n        _this.handleClickThumb = function (index, item) {\n            _this.props.onClickThumb(index, item);\n\n            _this.selectItem({\n                selectedItem: index\n            });\n        };\n\n        _this.onSwipeStart = function (event) {\n            _this.setState({\n                swiping: true\n            });\n            _this.props.onSwipeStart(event);\n            _this.clearAutoPlay();\n        };\n\n        _this.onSwipeEnd = function (event) {\n            _this.setState({\n                swiping: false,\n                cancelClick: false\n            });\n            _this.props.onSwipeEnd(event);\n            _this.autoPlay();\n        };\n\n        _this.onSwipeMove = function (delta, event) {\n            _this.props.onSwipeMove(event);\n            var isHorizontal = _this.props.axis === 'horizontal';\n            var childrenLength = _react.Children.count(_this.props.children);\n\n            var initialBoundry = 0;\n\n            var currentPosition = _this.getPosition(_this.state.selectedItem);\n            var finalBoundry = _this.props.infiniteLoop ? _this.getPosition(childrenLength - 1) - 100 : _this.getPosition(childrenLength - 1);\n\n            var axisDelta = isHorizontal ? delta.x : delta.y;\n            var handledDelta = axisDelta;\n\n            // prevent user from swiping left out of boundaries\n            if (currentPosition === initialBoundry && axisDelta > 0) {\n                handledDelta = 0;\n            }\n\n            // prevent user from swiping right out of boundaries\n            if (currentPosition === finalBoundry && axisDelta < 0) {\n                handledDelta = 0;\n            }\n\n            var position = currentPosition + 100 / (_this.state.itemSize / handledDelta);\n            if (_this.props.infiniteLoop) {\n                // When allowing infinite loop, if we slide left from position 0 we reveal the cloned last slide that appears before it\n                // if we slide even further we need to jump to other side so it can continue - and vice versa for the last slide\n                if (_this.state.selectedItem === 0 && position > -100) {\n                    position -= childrenLength * 100;\n                } else if (_this.state.selectedItem === childrenLength - 1 && position < -childrenLength * 100) {\n                    position += childrenLength * 100;\n                }\n            }\n            position += '%';\n            _this.setPosition(position);\n\n            // allows scroll if the swipe was within the tolerance\n            var hasMoved = Math.abs(axisDelta) > _this.props.swipeScrollTolerance;\n\n            if (hasMoved && !_this.state.cancelClick) {\n                _this.setState({\n                    cancelClick: true\n                });\n            }\n\n            return hasMoved;\n        };\n\n        _this.setPosition = function (position, forceReflow) {\n            var list = _reactDom2.default.findDOMNode(_this.listRef);\n            ['WebkitTransform', 'MozTransform', 'MsTransform', 'OTransform', 'transform', 'msTransform'].forEach(function (prop) {\n                list.style[prop] = (0, _CSSTranslate2.default)(position, _this.props.axis);\n            });\n            if (forceReflow) {\n                list.offsetLeft;\n            }\n        };\n\n        _this.resetPosition = function () {\n            var currentPosition = _this.getPosition(_this.state.selectedItem) + '%';\n            _this.setPosition(currentPosition);\n        };\n\n        _this.decrement = function () {\n            var positions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n            var fromSwipe = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n            _this.moveTo(_this.state.selectedItem - (typeof positions === 'number' ? positions : 1), fromSwipe);\n        };\n\n        _this.increment = function () {\n            var positions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n            var fromSwipe = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n            _this.moveTo(_this.state.selectedItem + (typeof positions === 'number' ? positions : 1), fromSwipe);\n        };\n\n        _this.moveTo = function (position, fromSwipe) {\n            var lastPosition = _react.Children.count(_this.props.children) - 1;\n            var needClonedSlide = _this.props.infiniteLoop && !fromSwipe && (position < 0 || position > lastPosition);\n            var oldPosition = position;\n\n            if (position < 0) {\n                position = _this.props.infiniteLoop ? lastPosition : 0;\n            }\n\n            if (position > lastPosition) {\n                position = _this.props.infiniteLoop ? 0 : lastPosition;\n            }\n\n            if (needClonedSlide) {\n                // set swiping true would disable transition time, then we set slider to cloned position and force a reflow\n                // this is only needed for non-swiping situation\n                _this.setState({\n                    swiping: true\n                }, function () {\n                    if (oldPosition < 0) {\n                        if (_this.props.centerMode && _this.props.axis === 'horizontal') {\n                            _this.setPosition('-' + ((lastPosition + 2) * _this.props.centerSlidePercentage - (100 - _this.props.centerSlidePercentage) / 2) + '%', true);\n                        } else {\n                            _this.setPosition('-' + (lastPosition + 2) * 100 + '%', true);\n                        }\n                    } else if (oldPosition > lastPosition) {\n                        _this.setPosition(0, true);\n                    }\n\n                    _this.selectItem({\n                        selectedItem: position,\n                        swiping: false\n                    });\n                });\n            } else {\n                _this.selectItem({\n                    // if it's not a slider, we don't need to set position here\n                    selectedItem: position\n                });\n            }\n\n            // don't reset auto play when stop on hover is enabled, doing so will trigger a call to auto play more than once\n            // and will result in the interval function not being cleared correctly.\n            if (_this.state.autoPlay && _this.state.isMouseEntered === false) {\n                _this.resetAutoPlay();\n            }\n        };\n\n        _this.onClickNext = function () {\n            _this.increment(1, false);\n        };\n\n        _this.onClickPrev = function () {\n            _this.decrement(1, false);\n        };\n\n        _this.onSwipeForward = function () {\n            _this.increment(1, true);\n        };\n\n        _this.onSwipeBackwards = function () {\n            _this.decrement(1, true);\n        };\n\n        _this.changeItem = function (e) {\n            if (!e.key || e.key === 'Enter') {\n                var newIndex = e.target.value;\n\n                _this.selectItem({\n                    selectedItem: newIndex\n                });\n            }\n        };\n\n        _this.selectItem = function (state, cb) {\n            _this.setState(state, cb);\n            _this.handleOnChange(state.selectedItem, _react.Children.toArray(_this.props.children)[state.selectedItem]);\n        };\n\n        _this.getInitialImage = function () {\n            var selectedItem = _this.props.selectedItem;\n            var item = _this.itemsRef && _this.itemsRef[selectedItem];\n            var images = item && item.getElementsByTagName('img');\n            return images && images[selectedItem];\n        };\n\n        _this.getVariableImageHeight = function (position) {\n            var item = _this.itemsRef && _this.itemsRef[position];\n            var images = item && item.getElementsByTagName('img');\n            if (_this.state.hasMount && images.length > 0) {\n                var image = images[0];\n\n                if (!image.complete) {\n                    // if the image is still loading, the size won't be available so we trigger a new render after it's done\n                    var onImageLoad = function onImageLoad() {\n                        _this.forceUpdate();\n                        image.removeEventListener('load', onImageLoad);\n                    };\n\n                    image.addEventListener('load', onImageLoad);\n                }\n\n                var height = image.clientHeight;\n                return height > 0 ? height : null;\n            }\n\n            return null;\n        };\n\n        _this.state = {\n            initialized: false,\n            selectedItem: props.selectedItem,\n            hasMount: false,\n            isMouseEntered: false,\n            autoPlay: props.autoPlay\n        };\n        return _this;\n    }\n\n    _createClass(Carousel, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            if (!this.props.children) {\n                return;\n            }\n\n            this.setupCarousel();\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate(prevProps, prevState) {\n            if (!prevProps.children && this.props.children && !this.state.initialized) {\n                this.setupCarousel();\n            }\n\n            if (prevState.swiping && !this.state.swiping) {\n                // We stopped swiping, ensure we are heading to the new/current slide and not stuck\n                this.resetPosition();\n            }\n\n            if (prevProps.selectedItem !== this.props.selectedItem) {\n                this.updateSizes();\n                this.moveTo(this.props.selectedItem);\n            }\n\n            if (prevProps.autoPlay !== this.props.autoPlay) {\n                if (this.props.autoPlay) {\n                    this.setupAutoPlay();\n                } else {\n                    this.destroyAutoPlay();\n                }\n\n                this.setState({ autoPlay: this.props.autoPlay });\n            }\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            this.destroyCarousel();\n        }\n    }, {\n        key: 'setupCarousel',\n        value: function setupCarousel() {\n            this.bindEvents();\n\n            if (this.state.autoPlay && _react.Children.count(this.props.children) > 1) {\n                this.setupAutoPlay();\n            }\n\n            this.setState({\n                initialized: true\n            });\n\n            var initialImage = this.getInitialImage();\n            if (initialImage) {\n                // if it's a carousel of images, we set the mount state after the first image is loaded\n                initialImage.addEventListener('load', this.setMountState);\n            } else {\n                this.setMountState();\n            }\n        }\n    }, {\n        key: 'destroyCarousel',\n        value: function destroyCarousel() {\n            if (this.state.initialized) {\n                this.unbindEvents();\n                this.destroyAutoPlay();\n            }\n        }\n    }, {\n        key: 'setupAutoPlay',\n        value: function setupAutoPlay() {\n            this.autoPlay();\n            var carouselWrapper = this.carouselWrapperRef;\n\n            if (this.props.stopOnHover && carouselWrapper) {\n                carouselWrapper.addEventListener('mouseenter', this.stopOnHover);\n                carouselWrapper.addEventListener('mouseleave', this.startOnLeave);\n            }\n        }\n    }, {\n        key: 'destroyAutoPlay',\n        value: function destroyAutoPlay() {\n            this.clearAutoPlay();\n            var carouselWrapper = this.carouselWrapperRef;\n\n            if (this.props.stopOnHover && carouselWrapper) {\n                carouselWrapper.removeEventListener('mouseenter', this.stopOnHover);\n                carouselWrapper.removeEventListener('mouseleave', this.startOnLeave);\n            }\n        }\n    }, {\n        key: 'bindEvents',\n        value: function bindEvents() {\n            // as the widths are calculated, we need to resize\n            // the carousel when the window is resized\n            window.addEventListener('resize', this.updateSizes);\n            // issue #2 - image loading smaller\n            window.addEventListener('DOMContentLoaded', this.updateSizes);\n\n            if (this.props.useKeyboardArrows) {\n                document.addEventListener('keydown', this.navigateWithKeyboard);\n            }\n        }\n    }, {\n        key: 'unbindEvents',\n        value: function unbindEvents() {\n            // removing listeners\n            window.removeEventListener('resize', this.updateSizes);\n            window.removeEventListener('DOMContentLoaded', this.updateSizes);\n\n            var initialImage = this.getInitialImage();\n            if (initialImage) {\n                initialImage.removeEventListener('load', this.setMountState);\n            }\n\n            if (this.props.useKeyboardArrows) {\n                document.removeEventListener('keydown', this.navigateWithKeyboard);\n            }\n        }\n    }, {\n        key: 'getPosition',\n        value: function getPosition(index) {\n            if (this.props.infiniteLoop) {\n                // index has to be added by 1 because of the first cloned slide\n                ++index;\n            }\n            var childrenLength = _react.Children.count(this.props.children);\n            if (this.props.centerMode && this.props.axis === 'horizontal') {\n                var currentPosition = -index * this.props.centerSlidePercentage;\n                var lastPosition = childrenLength - 1;\n\n                if (index && (index !== lastPosition || this.props.infiniteLoop)) {\n                    currentPosition += (100 - this.props.centerSlidePercentage) / 2;\n                } else if (index === lastPosition) {\n                    currentPosition += 100 - this.props.centerSlidePercentage;\n                }\n\n                return currentPosition;\n            }\n\n            return -index * 100;\n        }\n    }, {\n        key: 'renderItems',\n        value: function renderItems(isClone) {\n            var _this2 = this;\n\n            return _react.Children.map(this.props.children, function (item, index) {\n                var slideProps = {\n                    ref: function ref(e) {\n                        return _this2.setItemsRef(e, index);\n                    },\n                    key: 'itemKey' + index + (isClone ? 'clone' : ''),\n                    className: _cssClasses2.default.ITEM(true, index === _this2.state.selectedItem),\n                    onClick: _this2.handleClickItem.bind(_this2, index, item)\n                };\n\n                if (_this2.props.centerMode && _this2.props.axis === 'horizontal') {\n                    slideProps.style = {\n                        minWidth: _this2.props.centerSlidePercentage + '%'\n                    };\n                }\n\n                return _react2.default.createElement(\n                    'li',\n                    slideProps,\n                    item\n                );\n            });\n        }\n    }, {\n        key: 'renderControls',\n        value: function renderControls() {\n            var _this3 = this;\n\n            if (!this.props.showIndicators) {\n                return null;\n            }\n\n            return _react2.default.createElement(\n                'ul',\n                { className: 'control-dots' },\n                _react.Children.map(this.props.children, function (item, index) {\n                    return _this3.props.renderIndicator(_this3.changeItem, index === _this3.state.selectedItem, index, _this3.props.labels.item);\n                })\n            );\n        }\n    }, {\n        key: 'renderStatus',\n        value: function renderStatus() {\n            if (!this.props.showStatus) {\n                return null;\n            }\n\n            return _react2.default.createElement(\n                'p',\n                { className: 'carousel-status' },\n                this.props.statusFormatter(this.state.selectedItem + 1, _react.Children.count(this.props.children))\n            );\n        }\n    }, {\n        key: 'renderThumbs',\n        value: function renderThumbs() {\n            if (!this.props.showThumbs || _react.Children.count(this.props.children) === 0) {\n                return null;\n            }\n\n            return _react2.default.createElement(\n                _Thumbs2.default,\n                {\n                    ref: this.setThumbsRef,\n                    onSelectItem: this.handleClickThumb,\n                    selectedItem: this.state.selectedItem,\n                    transitionTime: this.props.transitionTime,\n                    thumbWidth: this.props.thumbWidth,\n                    labels: this.props.labels\n                },\n                this.props.children\n            );\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            if (!this.props.children || _react.Children.count(this.props.children) === 0) {\n                return null;\n            }\n\n            var isHorizontal = this.props.axis === 'horizontal';\n\n            var canShowArrows = this.props.showArrows && _react.Children.count(this.props.children) > 1;\n\n            // show left arrow?\n            var hasPrev = canShowArrows && (this.state.selectedItem > 0 || this.props.infiniteLoop);\n            // show right arrow\n            var hasNext = canShowArrows && (this.state.selectedItem < _react.Children.count(this.props.children) - 1 || this.props.infiniteLoop);\n            // obj to hold the transformations and styles\n            var itemListStyles = {};\n\n            var currentPosition = this.getPosition(this.state.selectedItem);\n\n            // if 3d is available, let's take advantage of the performance of transform\n            var transformProp = (0, _CSSTranslate2.default)(currentPosition + '%', this.props.axis);\n\n            var transitionTime = this.props.transitionTime + 'ms';\n\n            itemListStyles = {\n                WebkitTransform: transformProp,\n                MozTransform: transformProp,\n                MsTransform: transformProp,\n                OTransform: transformProp,\n                transform: transformProp,\n                msTransform: transformProp\n            };\n\n            if (!this.state.swiping) {\n                itemListStyles = _extends({}, itemListStyles, {\n                    WebkitTransitionDuration: transitionTime,\n                    MozTransitionDuration: transitionTime,\n                    MsTransitionDuration: transitionTime,\n                    OTransitionDuration: transitionTime,\n                    transitionDuration: transitionTime,\n                    msTransitionDuration: transitionTime\n                });\n            }\n\n            var itemsClone = this.renderItems(true);\n            var firstClone = itemsClone.shift();\n            var lastClone = itemsClone.pop();\n\n            var swiperProps = {\n                className: _cssClasses2.default.SLIDER(true, this.state.swiping),\n                onSwipeMove: this.onSwipeMove,\n                onSwipeStart: this.onSwipeStart,\n                onSwipeEnd: this.onSwipeEnd,\n                style: itemListStyles,\n                tolerance: this.props.swipeScrollTolerance\n            };\n\n            var containerStyles = {};\n\n            if (isHorizontal) {\n                swiperProps.onSwipeLeft = this.onSwipeForward;\n                swiperProps.onSwipeRight = this.onSwipeBackwards;\n\n                if (this.props.dynamicHeight) {\n                    var itemHeight = this.getVariableImageHeight(this.state.selectedItem);\n                    swiperProps.style.height = itemHeight || 'auto';\n                    containerStyles.height = itemHeight || 'auto';\n                }\n            } else {\n                swiperProps.onSwipeUp = this.props.verticalSwipe === 'natural' ? this.onSwipeBackwards : this.onSwipeForward;\n                swiperProps.onSwipeDown = this.props.verticalSwipe === 'natural' ? this.onSwipeForward : this.onSwipeBackwards;\n                swiperProps.style.height = this.state.itemSize;\n                containerStyles.height = this.state.itemSize;\n            }\n            return _react2.default.createElement(\n                'div',\n                { className: _cssClasses2.default.ROOT(this.props.className), ref: this.setCarouselWrapperRef, tabIndex: '0' },\n                _react2.default.createElement(\n                    'div',\n                    { className: _cssClasses2.default.CAROUSEL(true), style: { width: this.props.width } },\n                    this.props.renderArrowPrev(this.onClickPrev, hasPrev, this.props.labels.leftArrow),\n                    _react2.default.createElement(\n                        'div',\n                        {\n                            className: _cssClasses2.default.WRAPPER(true, this.props.axis),\n                            style: containerStyles,\n                            ref: this.setItemsWrapperRef\n                        },\n                        this.props.swipeable ? _react2.default.createElement(\n                            _reactEasySwipe2.default,\n                            _extends({\n                                tagName: 'ul',\n                                ref: this.setListRef\n                            }, swiperProps, {\n                                allowMouseEvents: this.props.emulateTouch\n                            }),\n                            this.props.infiniteLoop && lastClone,\n                            this.renderItems(),\n                            this.props.infiniteLoop && firstClone\n                        ) : _react2.default.createElement(\n                            'ul',\n                            {\n                                className: _cssClasses2.default.SLIDER(true, this.state.swiping),\n                                ref: this.setListRef,\n                                style: itemListStyles\n                            },\n                            this.props.infiniteLoop && lastClone,\n                            this.renderItems(),\n                            this.props.infiniteLoop && firstClone\n                        )\n                    ),\n                    this.props.renderArrowNext(this.onClickNext, hasNext, this.props.labels.rightArrow),\n                    this.renderControls(),\n                    this.renderStatus()\n                ),\n                this.renderThumbs()\n            );\n        }\n    }]);\n\n    return Carousel;\n}(_react.Component);\n\nCarousel.displayName = 'Carousel';\nCarousel.propTypes = {\n    className: _propTypes2.default.string,\n    children: _propTypes2.default.node,\n    showArrows: _propTypes2.default.bool,\n    showStatus: _propTypes2.default.bool,\n    showIndicators: _propTypes2.default.bool,\n    infiniteLoop: _propTypes2.default.bool,\n    showThumbs: _propTypes2.default.bool,\n    thumbWidth: _propTypes2.default.number,\n    selectedItem: _propTypes2.default.number,\n    onClickItem: _propTypes2.default.func.isRequired,\n    onClickThumb: _propTypes2.default.func.isRequired,\n    onChange: _propTypes2.default.func.isRequired,\n    axis: _propTypes2.default.oneOf(['horizontal', 'vertical']),\n    verticalSwipe: _propTypes2.default.oneOf(['natural', 'standard']),\n    width: customPropTypes.unit,\n    useKeyboardArrows: _propTypes2.default.bool,\n    autoPlay: _propTypes2.default.bool,\n    stopOnHover: _propTypes2.default.bool,\n    interval: _propTypes2.default.number,\n    transitionTime: _propTypes2.default.number,\n    swipeScrollTolerance: _propTypes2.default.number,\n    swipeable: _propTypes2.default.bool,\n    dynamicHeight: _propTypes2.default.bool,\n    emulateTouch: _propTypes2.default.bool,\n    statusFormatter: _propTypes2.default.func.isRequired,\n    centerMode: _propTypes2.default.bool,\n    centerSlidePercentage: _propTypes2.default.number,\n    labels: _propTypes2.default.shape({\n        leftArrow: _propTypes2.default.string,\n        rightArrow: _propTypes2.default.string,\n        item: _propTypes2.default.string\n    }),\n    onSwipeStart: _propTypes2.default.func,\n    onSwipeEnd: _propTypes2.default.func,\n    onSwipeMove: _propTypes2.default.func,\n    renderArrowPrev: _propTypes2.default.func,\n    renderArrowNext: _propTypes2.default.func,\n    renderIndicator: _propTypes2.default.func\n};\nCarousel.defaultProps = {\n    showIndicators: true,\n    showArrows: true,\n    showStatus: true,\n    showThumbs: true,\n    infiniteLoop: false,\n    selectedItem: 0,\n    axis: 'horizontal',\n    verticalSwipe: 'standard',\n    width: '100%',\n    useKeyboardArrows: false,\n    autoPlay: false,\n    stopOnHover: true,\n    interval: 3000,\n    transitionTime: 350,\n    swipeScrollTolerance: 5,\n    swipeable: true,\n    dynamicHeight: false,\n    emulateTouch: false,\n    onClickItem: noop,\n    onClickThumb: noop,\n    onChange: noop,\n    statusFormatter: defaultStatusFormatter,\n    centerMode: false,\n    centerSlidePercentage: 80,\n    labels: {\n        leftArrow: 'previous slide / item',\n        rightArrow: 'next slide / item',\n        item: 'slide item'\n    },\n    onSwipeStart: function onSwipeStart() {},\n    onSwipeEnd: function onSwipeEnd() {},\n    onSwipeMove: function onSwipeMove() {},\n    renderArrowPrev: function renderArrowPrev(onClickHandler, hasPrev, label) {\n        return _react2.default.createElement('button', { type: 'button', 'aria-label': label, className: _cssClasses2.default.ARROW_PREV(!hasPrev), onClick: onClickHandler });\n    },\n    renderArrowNext: function renderArrowNext(onClickHandler, hasNext, label) {\n        return _react2.default.createElement('button', { type: 'button', 'aria-label': label, className: _cssClasses2.default.ARROW_NEXT(!hasNext), onClick: onClickHandler });\n    },\n    renderIndicator: function renderIndicator(onClickHandler, isSelected, index, label) {\n        return _react2.default.createElement('li', {\n            className: _cssClasses2.default.DOT(isSelected),\n            onClick: onClickHandler,\n            onKeyDown: onClickHandler,\n            value: index,\n            key: index,\n            role: 'button',\n            tabIndex: 0,\n            'aria-label': label + ' ' + (index + 1)\n        });\n    }\n};\nexports.default = Carousel;"]},"metadata":{},"sourceType":"script"}