{"ast":null,"code":"import _classCallCheck from\"/Users/ace/Documents/Hack.Diversity/Mini Project/community-library/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/ace/Documents/Hack.Diversity/Mini Project/community-library/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/ace/Documents/Hack.Diversity/Mini Project/community-library/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _createSuper from\"/Users/ace/Documents/Hack.Diversity/Mini Project/community-library/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/ace/Documents/Hack.Diversity/Mini Project/community-library/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Link}from'react-router-dom';import Axios from'axios';// Book function component \n// Takes in book property and uses its attributes\nvar Book=function Book(props){return/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"img\",{src:props.book.image_url_s,alt:props.book.title}),\" \"),/*#__PURE__*/React.createElement(\"td\",null,props.book.title),/*#__PURE__*/React.createElement(\"td\",null,props.book.author),/*#__PURE__*/React.createElement(\"td\",null,props.book.publication_year),/*#__PURE__*/React.createElement(\"td\",null,props.book.isbn),/*#__PURE__*/React.createElement(\"td\",null,props.book.copies),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Link,{to:\"/show/\"+props.book._id},\"Details\"),\" | \",/*#__PURE__*/React.createElement(\"a\",{href:\"#\",onClick:function onClick(){props.deleteBook(props.book._id);}},\"Delete\"),\" | \",/*#__PURE__*/React.createElement(\"a\",{href:\"/\",onClick:function onClick(){props.returnBook(props.book._id);}},\"Return\"),\" |\",/*#__PURE__*/React.createElement(\"a\",{href:\"#\",onClick:function onClick(){props.borrowBook(props.book._id);}},\"Borrow\")));};var BooksList=/*#__PURE__*/function(_Component){_inherits(BooksList,_Component);var _super=_createSuper(BooksList);function BooksList(props){var _this;_classCallCheck(this,BooksList);_this=_super.call(this,props);_this.deleteBook=_this.deleteBook.bind(_assertThisInitialized(_this));_this.returnBook=_this.returnBook.bind(_assertThisInitialized(_this));//this.onChangeTitle = this.onChangeTitle.bind(this);\n//this.onChangeAuthor = this.onChangeAuthor.bind(this);\n//this.onChangeYear = this.onChangeYear.bind(this);\n//this.onChangeIsbn = this.onChangeIsbn.bind(this);\n//this.onChangeCopies = this.onChangeCopies.bind(this);\n//this.onSubmit = this.onSubmit.bind(this);\n_this.state={books:[]};return _this;}// Loads JSON from Database\n_createClass(BooksList,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;Axios.get('http://localhost:5000/books/').then(function(response){_this2.setState({books:response.data});}).catch(function(error){console.log(error);});}},{key:\"deleteBook\",value:function deleteBook(id){Axios.delete('http://localhost:5000/books/delete/'+id).then(function(res){return console.log(res.data);});//Might need to make other function/ see 1:35:45\n//To filter 0 copies\n//el.copies !== 0\nthis.setState({books:this.state.books.filter(function(el){return el._id!==id;})});}},{key:\"returnBook\",value:function returnBook(id){Axios.post('http://localhost:5000/books/return/'+id).then(function(res){return console.log(res.data);});// refresh page\n// might change to just re render view DOM with react\nthis.forceUpdate();}},{key:\"borrowBook\",value:function borrowBook(id){Axios.post('http://localhost:5000/books/borrow/'+id).then(function(res){return console.log(res.data);});window.location='/';}},{key:\"bookList\",value:function bookList(){var _this3=this;return this.state.books.map(function(currentbook){return/*#__PURE__*/React.createElement(Book,{book:currentbook,deleteBook:_this3.deleteBook,returnBook:_this3.returnBook,borrowBook:_this3.borrowBook,key:currentbook._id});});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h3\",null,\"Books!\"),/*#__PURE__*/React.createElement(\"table\",{className:\"table\"},/*#__PURE__*/React.createElement(\"thead\",{className:\"thead-light\"},/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Image\"),/*#__PURE__*/React.createElement(\"th\",null,\"Title\"),/*#__PURE__*/React.createElement(\"th\",null,\"Author\"),/*#__PURE__*/React.createElement(\"th\",null,\"Year of Publication\"),/*#__PURE__*/React.createElement(\"th\",null,\"ISBN\"),/*#__PURE__*/React.createElement(\"th\",null,\"Copies\"))),/*#__PURE__*/React.createElement(\"tbody\",null,this.bookList())));}}]);return BooksList;}(Component);export{BooksList as default};","map":{"version":3,"sources":["/Users/ace/Documents/Hack.Diversity/Mini Project/community-library/src/components/books-list.component.js"],"names":["React","Component","Link","Axios","Book","props","book","image_url_s","title","author","publication_year","isbn","copies","_id","deleteBook","returnBook","borrowBook","BooksList","bind","state","books","get","then","response","setState","data","catch","error","console","log","id","delete","res","filter","el","post","forceUpdate","window","location","map","currentbook","bookList"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport Axios from 'axios';\n\n// Book function component \n// Takes in book property and uses its attributes\nconst Book = props => (\n    <tr>\n        {//<td> <img src= {props.book.image_url_m}> </img> </td>\n        }\n        <td><img src={props.book.image_url_s}  alt={props.book.title} /> </td>\n        <td>{props.book.title}</td>\n        <td>{props.book.author}</td>\n        <td>{props.book.publication_year}</td>\n        <td>{props.book.isbn}</td>\n        <td>{props.book.copies}</td>\n        <td>\n            <Link to={\"/show/\"+props.book._id}>Details</Link> | <a href=\"#\" onClick={() => { props.deleteBook(props.book._id) }}>Delete</a> | <a href=\"/\" onClick={() => { props.returnBook(props.book._id) }}>Return</a> |<a href=\"#\" onClick={() => { props.borrowBook(props.book._id) }}>Borrow</a> \n        </td>\n    </tr>\n) \n\nexport default class BooksList extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.deleteBook = this.deleteBook.bind(this);\n        this.returnBook = this.returnBook.bind(this);\n        //this.onChangeTitle = this.onChangeTitle.bind(this);\n        //this.onChangeAuthor = this.onChangeAuthor.bind(this);\n        //this.onChangeYear = this.onChangeYear.bind(this);\n        //this.onChangeIsbn = this.onChangeIsbn.bind(this);\n        //this.onChangeCopies = this.onChangeCopies.bind(this);\n        //this.onSubmit = this.onSubmit.bind(this);\n\n        this.state = {\n            books: []\n            \n        }\n    }\n\n    // Loads JSON from Database\n    componentDidMount() {\n        Axios.get('http://localhost:5000/books/')\n            .then(response => {\n                    this.setState ({ books: response.data })\n            })\n            .catch((error) => {\n                console.log(error);\n            })\n    }\n\n    deleteBook(id) {\n        Axios.delete('http://localhost:5000/books/delete/'+id)\n            .then(res => console.log(res.data));\n        \n            //Might need to make other function/ see 1:35:45\n            //To filter 0 copies\n\n            //el.copies !== 0\n        this.setState ({\n            books: this.state.books.filter(el => el._id !== id)\n        })\n    }\n\n    returnBook(id) {\n        Axios.post('http://localhost:5000/books/return/'+id)\n            .then(res => console.log(res.data));\n\n\n        // refresh page\n        // might change to just re render view DOM with react\n        this.forceUpdate()\n    }\n\n    borrowBook(id) {\n        Axios.post('http://localhost:5000/books/borrow/'+id)\n            .then(res => console.log(res.data));\n        \n        window.location='/'\n    }\n\n    bookList() {\n        return this.state.books.map(currentbook => {\n            return <Book book={currentbook} deleteBook={this.deleteBook} returnBook={this.returnBook} borrowBook={this.borrowBook} key={currentbook._id}/>;\n        })\n    }\n    \n    render() {     \n        return (\n            <div>\n                <h3>Books!</h3>\n                <table className='table'>\n                    <thead className='thead-light'>\n                        <tr>\n                            <th>Image</th>\n                            <th>Title</th>\n                            <th>Author</th>\n                            <th>Year of Publication</th>\n                            <th>ISBN</th>\n                            <th>Copies</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {\n                        // this method takes information from books array and puts it into the rows\n                        }\n                        { this.bookList() }\n                    </tbody>\n                </table>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}