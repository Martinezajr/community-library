{"ast":null,"code":"var _jsxFileName = \"/Users/ace/Documents/Hack.Diversity/Mini Project/community-library/src/components/Posts.js\";\nimport React, { useState, useEffect } from 'react';\nimport Table from 'react-bootstrap/Table';\nimport Button from 'react-bootstrap/Button';\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\nimport Col from 'react-bootstrap/Col';\nimport { Link } from 'react-router-dom';\nimport Axios from 'axios';\nimport Image from 'react-bootstrap/Image';\nimport Alert from 'react-bootstrap/Alert'; //SAME AS BOOK COMPONENT\n\nconst Posts = ({\n  posts,\n  loading\n}) => {\n  if (loading) {\n    return /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 12\n      }\n    }, \"Loading...\");\n  }\n\n  const deleteBook = id => {\n    Axios.delete('http://localhost:5000/books/delete/' + id).then(res => console.log(res.data)); //Might need to make other function/ see 1:35:45\n    //To filter 0 copies\n    //el.copies !== 0\n\n    posts = posts.filter(el => el._id !== id);\n    window.location = '/community-library/';\n  };\n\n  const returnBook = id => {\n    Axios.post('http://localhost:5000/books/return/' + id).then(res => console.log(res.data)); // refresh page\n    // might change to just re render view DOM with react\n\n    window.location = '/community-library/';\n  };\n\n  const borrowBook = id => {\n    Axios.post('http://localhost:5000/books/borrow/' + id).then(res => console.log(res.data));\n    window.location = '/community-library/';\n  };\n\n  const copies = copy => {\n    if (copy == 0) {\n      return \"Unavailable\";\n    }\n\n    return copy;\n  };\n\n  const borrowCheck = (copy, post) => {\n    if (copy == 0) {\n      /*#__PURE__*/\n      React.createElement(Button, {\n        className: \"text-white\",\n        display: \"inline-block\",\n        variant: \"warning\",\n        href: \"#\",\n        onClick: () => {\n          borrowBook(post._id);\n        },\n        disabled: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 5\n        }\n      }, \"Copy Unavailable\");\n    }\n  }; // Create Copies function with state ( Look at BL2 )\n  // Iniside Copies function, use effect the books copies from posts using map\n  // Set copies after return or borrow, prolly put inside where posts at \n\n\n  return /*#__PURE__*/React.createElement(Table, {\n    size: true,\n    responsive: true,\n    bordered: true,\n    striped: true,\n    hover: true,\n    style: {\n      backgroundColor: 'white',\n      border: \"10px solid black\",\n      borderRadius: '10px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    className: \"thead-light flex-table text-align-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    className: \"text-align-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 29\n    }\n  }, \"Image\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"text-align-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 29\n    }\n  }, \"Title\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 29\n    }\n  }, \"Author\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 29\n    }\n  }, \"Year of Publication\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 29\n    }\n  }, \"ISBN\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 29\n    }\n  }, \"Copies\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 29\n    }\n  }, \"Services\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 21\n    }\n  }, posts.map(post => /*#__PURE__*/React.createElement(\"tr\", {\n    key: post.id,\n    className: \"bordered\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    src: post.image_url_s,\n    alt: post.title,\n    fluid: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 14\n    }\n  }), \" \"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }, post.title), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, post.author), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }\n  }, post.publication_year), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }, post.isbn), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, copies(post.copies)), /*#__PURE__*/React.createElement(\"td\", {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ButtonGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/show/\" + post._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 42\n    }\n  }, \"Details\")), \" \", ' ', /*#__PURE__*/React.createElement(Button, {\n    display: \"inline-block\",\n    variant: \"danger\",\n    href: \"#\",\n    onClick: () => {\n      deleteBook(post._id);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  }, \"Delete\"), \" \", ' ', /*#__PURE__*/React.createElement(Button, {\n    display: \"inline-block\",\n    variant: \"success\",\n    href: \"#\",\n    onClick: () => {\n      returnBook(post._id);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }, \"Return\"), \" \", ' ', /*#__PURE__*/React.createElement(Button, {\n    className: \"text-white\",\n    display: \"inline-block\",\n    variant: \"warning\",\n    href: \"#\",\n    onClick: () => {\n      borrowBook(post._id);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }, \"Borrow\"), \" \", ' ')))))));\n};\n\nexport default Posts;","map":{"version":3,"sources":["/Users/ace/Documents/Hack.Diversity/Mini Project/community-library/src/components/Posts.js"],"names":["React","useState","useEffect","Table","Button","ButtonGroup","Col","Link","Axios","Image","Alert","Posts","posts","loading","deleteBook","id","delete","then","res","console","log","data","filter","el","_id","window","location","returnBook","post","borrowBook","copies","copy","borrowCheck","backgroundColor","border","borderRadius","map","image_url_s","title","author","publication_year","isbn"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'; \nimport Table from 'react-bootstrap/Table';\nimport Button from 'react-bootstrap/Button'\nimport ButtonGroup from 'react-bootstrap/ButtonGroup'\nimport Col from 'react-bootstrap/Col'\nimport { Link } from 'react-router-dom';\nimport Axios from 'axios';\nimport Image from 'react-bootstrap/Image'\nimport Alert from 'react-bootstrap/Alert'\n\n//SAME AS BOOK COMPONENT\nconst Posts = ({ posts, loading }) => {\n\n  \n  \n  if (loading) {\n    return <h2>Loading...</h2>;\n  }\n\n  const deleteBook = (id) => {\n    \n    Axios.delete('http://localhost:5000/books/delete/'+id)\n        .then(res => console.log(res.data));\n    \n        //Might need to make other function/ see 1:35:45\n        //To filter 0 copies\n\n        //el.copies !== 0\n    \n    posts = posts.filter(el => el._id !== id)\n    \n    window.location = ('/community-library/')\n    \n    \n}\n\nconst returnBook = ( id) => {\n  Axios.post('http://localhost:5000/books/return/'+id)\n      .then(res => console.log(res.data));\n\n\n  // refresh page\n  // might change to just re render view DOM with react\n  window.location = ('/community-library/')\n}\n\nconst borrowBook = (id) => {\n  Axios.post('http://localhost:5000/books/borrow/'+id)\n      .then(res => console.log(res.data));\n  \n  window.location='/community-library/'\n}\n\nconst copies = (copy) => {\n  \n  if (copy == 0){\n    return \"Unavailable\"\n  }\n  return copy\n}\n\nconst borrowCheck = (copy, post) => {\n\n  if (copy == 0) {\n\n    <Button className = 'text-white'  display = 'inline-block' variant = 'warning' href=\"#\" onClick={() => { borrowBook(post._id) }} disabled >Copy Unavailable</Button> \n  }\n\n}\n\n\n// Create Copies function with state ( Look at BL2 )\n// Iniside Copies function, use effect the books copies from posts using map\n// Set copies after return or borrow, prolly put inside where posts at \n\n\n\n\n  return (\n    <Table size responsive bordered striped hover style = {{backgroundColor : 'white', border : \"10px solid black\", borderRadius : '10px'}}>\n      <thead className='thead-light flex-table text-align-center'>\n                        <tr>\n                            <th className='text-align-center' >Image</th>\n                            <th className = 'text-align-center'>Title</th>\n                            <th>Author</th>\n                            <th>Year of Publication</th>\n                            <th>ISBN</th>\n                            <th>Copies</th>\n                            <th>Services</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n\n      {posts.map(post => (\n      \n        \n        <tr key={post.id} className=\"bordered\">\n           \n          \n        <td ><Image src={post.image_url_s}  alt={post.title} fluid /> </td>\n        <td>{post.title}</td>\n        <td>{post.author}</td>\n        <td>{post.publication_year}</td>\n        <td>{post.isbn}</td>\n        <td>{copies(post.copies)}</td>\n        <td align = 'center'>\n            <Col>\n            <ButtonGroup>\n            <Link to={\"/show/\"+post._id}><Button variant = 'info'>Details</Button></Link> {' '}\n            <Button   display = 'inline-block' variant = 'danger' href = '#' onClick = {() => { deleteBook(post._id) }}   >Delete</Button> {' '} \n            <Button  display = 'inline-block' variant = 'success' href=\"#\" onClick={() => {  returnBook(post._id) }}>Return</Button> {' '}\n            <Button className = 'text-white'  display = 'inline-block' variant = 'warning' href=\"#\" onClick={() => { borrowBook(post._id) }}>Borrow</Button> {' '}\n            </ButtonGroup>\n            </Col>\n        </td>\n        \n        \n    </tr>\n        \n      ))}\n      </tbody>\n    </Table>\n  );\n};\n\nexport default Posts;\n"]},"metadata":{},"sourceType":"module"}