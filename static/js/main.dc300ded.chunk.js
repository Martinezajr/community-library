(this["webpackJsonpcommunity-library"]=this["webpackJsonpcommunity-library"]||[]).push([[0],{52:function(e,t,a){e.exports=a(83)},83:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(26),o=a.n(r),i=a(12),c=a(15),s=(a(57),a(18)),u=a(19),m=a(20),b=a(21),h=a(24),d=a(22),p=function(e){Object(b.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return l.a.createElement(h.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark","sticky-top":!0,className:"sticky-top"},l.a.createElement(h.a.Brand,null," ",l.a.createElement(i.b,{to:"/community-library/",className:"navbar-brand"},"CSCLIBRARY")," "),l.a.createElement(h.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),l.a.createElement(h.a.Collapse,{id:"responsive-navbar-nav"},l.a.createElement(d.a,null,l.a.createElement(d.a.Link,null,l.a.createElement(i.b,{to:"/community-library/",className:"nav-link"},"Books")),l.a.createElement(d.a.Link,null,l.a.createElement(i.b,{to:"/add",className:"nav-link"},"Add Book")))))}}]),a}(n.Component),E=a(9),g=a(10),f=a.n(g),v=a(23),k=a(28),y=function(e){return l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement(k.a,{src:e.book.image_url_l,alt:e.book.title,fluid:!0})," "),l.a.createElement("td",null,e.book.title),l.a.createElement("td",null,e.book.author),l.a.createElement("td",null,e.book.publication_year),l.a.createElement("td",null,e.book.isbn),l.a.createElement("td",null,e.book.available))},C=function(e){Object(b.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).bookList=n.bookList.bind(Object(E.a)(n)),n.state={book:[]},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.a.get("http://localhost:5000/books/show/"+this.props.match.params.id).then((function(t){e.setState({book:t.data})})).catch((function(e){console.log(e)}))}},{key:"bookList",value:function(){return l.a.createElement(y,{book:this.state.book,deleteBook:this.deleteBook,returnBook:this.returnBook,borrowBook:this.borrowBook})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h1",{style:{backgroundColor:"white",border:"10px solid black",borderRadius:"5px",fontFamily:"Libre Baskerville"}},this.state.book.title," "),l.a.createElement(v.a,{size:!0,fluid:!0,bordered:!0,striped:!0,hover:!0,style:{backgroundColor:"white",border:"10px solid black",borderRadius:"10px"}},l.a.createElement("thead",{className:"thead-light"},l.a.createElement("tr",null,l.a.createElement("th",null,"Image"),l.a.createElement("th",null,"Title"),l.a.createElement("th",null,"Author"),l.a.createElement("th",null,"Year of Publication"),l.a.createElement("th",null,"ISBN"),l.a.createElement("th",null,"Copies"))),l.a.createElement("tbody",null,this.bookList())))}}]),a}(n.Component),N=a(11),x=function(e){Object(b.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onChangeTitle=n.onChangeTitle.bind(Object(E.a)(n)),n.onChangeAuthor=n.onChangeAuthor.bind(Object(E.a)(n)),n.onChangeYear=n.onChangeYear.bind(Object(E.a)(n)),n.onChangeIsbn=n.onChangeIsbn.bind(Object(E.a)(n)),n.onChangeCopies=n.onChangeCopies.bind(Object(E.a)(n)),n.onSubmit=n.onSubmit.bind(Object(E.a)(n)),n.state={title:"",author:"",publication_year:0,isbn:"",copies:0,available:0},n}return Object(u.a)(a,[{key:"onChangeTitle",value:function(e){this.setState({title:e.target.value})}},{key:"onChangeAuthor",value:function(e){this.setState({author:e.target.value})}},{key:"onChangeYear",value:function(e){this.setState({publication_year:e.target.value})}},{key:"onChangeIsbn",value:function(e){this.setState({isbn:e.target.value})}},{key:"onChangeCopies",value:function(e){this.setState({copies:e.target.value,available:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={title:this.state.title,author:this.state.author,publication_year:this.state.publication_year,isbn:this.state.isbn,copies:this.state.copies,available:this.state.available};console.log(t),f.a.post("http://localhost:5000/books/add",t).then((function(e){return console.log(e.data)})),window.location="/community-library/"}},{key:"render",value:function(){return l.a.createElement("div",{className:"container ",style:{backgroundColor:"white",border:"10px solid black",borderRadius:"10px"}},l.a.createElement("h3",{bordered:!0},"Create New Book Record"),l.a.createElement("form",{onSubmit:this.onSubmit},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,l.a.createElement("strong",null,"Title: ")),l.a.createElement("input",{type:"text",required:!0,className:"form-control",value:this.state.title,onChange:this.onChangeTitle,placeholder:"Please enter the books title..."})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,l.a.createElement("strong",null,"Author: ")),l.a.createElement("input",{type:"text",required:!0,className:"form-control",value:this.state.author,onChange:this.onChangeAuthor,placeholder:"Please enter the books author..."})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,l.a.createElement("strong",null,"Year of Publication: ")),l.a.createElement("input",{type:"number",required:!0,className:"form-control",value:this.state.publication_year,onChange:this.onChangeYear,min:"0"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,l.a.createElement("strong",null,"ISBN: ")),l.a.createElement("input",{type:"text",required:!0,className:"form-control",value:this.state.isbn,onChange:this.onChangeIsbn,placeholder:"Please enter the books ISBN..."})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,l.a.createElement("strong",null,"Copies: ")),l.a.createElement("input",{type:"number",required:!0,className:"form-control",value:(this.state.copies,this.state.available),onChange:this.onChangeCopies,min:"0"})),l.a.createElement("div",{className:"form-group"},l.a.createElement(N.a,{type:"submit"}," Add Book to Library "))))}}]),a}(n.Component),j=a(36),w=a.n(j),O=a(50),S=a(25),B=a(33),_=a(51),A=function(e){var t=e.posts;if(e.loading)return l.a.createElement("h2",null,"Loading...");var a=function(e){f.a.post("http://localhost:5000/books/return/"+e).then((function(e){return console.log(e.data)})),window.location="/community-library/"},n=function(e){f.a.post("http://localhost:5000/books/borrow/"+e).then((function(e){return console.log(e.data)})),window.location="/community-library/"};return l.a.createElement(v.a,{size:!0,fluid:!0,bordered:!0,striped:!0,hover:!0,style:{backgroundColor:"white",border:"10px solid black",borderRadius:"10px"}},l.a.createElement("thead",{className:"thead-light flex-table text-align-center fixed-header"},l.a.createElement("tr",null,l.a.createElement("th",{className:"text-align-center"},l.a.createElement("strong",null,"Image")),l.a.createElement("th",{className:"text-align-center"},l.a.createElement("strong",null,"Title")),l.a.createElement("th",null,l.a.createElement("strong",null,"Author")),l.a.createElement("th",null,l.a.createElement("strong",null,"Year of Publication")),l.a.createElement("th",null,l.a.createElement("strong",null,"ISBN")),l.a.createElement("th",null,l.a.createElement("strong",null,"Copies Available")),l.a.createElement("th",null,l.a.createElement("strong",null,"Services")))),l.a.createElement("tbody",null,t.map((function(e){return l.a.createElement("tr",{key:e.id,className:"bordered"},l.a.createElement("td",null,l.a.createElement(k.a,{src:e.image_url_s,alt:e.title,fluid:!0})," "),l.a.createElement("td",null,l.a.createElement("strong",null,e.title)),l.a.createElement("td",null,l.a.createElement("strong",null,e.author)),l.a.createElement("td",null,l.a.createElement("strong",null,e.publication_year)),l.a.createElement("td",null,l.a.createElement("strong",null,e.isbn)),l.a.createElement("td",null,l.a.createElement("strong",null,function(e){return 0==e.available?"Unavailable":e.available}(e))),l.a.createElement("td",null,l.a.createElement(_.a,null,l.a.createElement(B.a,{className:"justify-content-center",style:{textAlign:"center",margin:"auto",padding:"0px"}},l.a.createElement(N.a,{variant:"info"},l.a.createElement(i.b,{to:"/show/"+e._id,className:"btn",style:{color:"white"}},"Details"))," "," ",l.a.createElement(N.a,{variant:"danger",href:"#",onClick:function(){var a;a=e._id,f.a.delete("http://localhost:5000/books/delete/"+a).then((function(e){return console.log(e.data)})),t=t.filter((function(e){return e._id!==a})),window.location="/community-library/"},style:{paddingTop:"15px"}},"Delete")," "," ",function(e){return e.available==e.copies?l.a.createElement(N.a,{variant:"success",href:"#",onClick:function(){a(e._id)},disabled:!0},"All Books Stocked!"):l.a.createElement(N.a,{variant:"success",href:"#",onClick:function(){a(e._id)},style:{paddingTop:"15px"}},"Return")}(e),function(e){return 0==e.available?l.a.createElement(N.a,{className:"text-white",display:"inline-block",variant:"warning",href:"#",onClick:function(){n(e._id)},disabled:!0},"Copy Unavailable"):l.a.createElement(N.a,{className:"text-white",display:"inline-block",variant:"warning",href:"#",onClick:function(){n(e._id)},style:{paddingTop:"15px"}},"Borrow")}(e)))))}))))},I=function(e){for(var t=e.postsPerPage,a=e.totalPosts,n=e.paginate,r=[],o=1;o<=Math.ceil(a/t);o++)r.push(o);return l.a.createElement(d.a,{className:"justify-content-center",style:{left:"50%"}},l.a.createElement("ul",{className:"pagination text-align-center ",style:{textAlign:"center"}},r.map((function(e){return l.a.createElement("li",{key:e,className:"page-item"},l.a.createElement("a",{onClick:function(){return n(e)},href:"#",className:"page-link"},e))}))))},L=function(){var e=Object(n.useState)([]),t=Object(S.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(!1),i=Object(S.a)(o,2),c=i[0],s=i[1],u=Object(n.useState)(1),m=Object(S.a)(u,2),b=m[0],h=m[1],d=Object(n.useState)(50),p=Object(S.a)(d,1)[0];Object(n.useEffect)((function(){(function(){var e=Object(O.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,f.a.get("http://localhost:5000/books/");case 3:t=e.sent,r(t.data),s(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var E=b*p,g=E-p,v=a.slice(g,E);return l.a.createElement("div",{className:"container "},l.a.createElement("h1",{style:{backgroundColor:"white",border:"10px solid black",borderRadius:"5px",fontFamily:"Libre Baskerville",width:"102%"}},"Our Library"),l.a.createElement(A,{posts:v,loading:c}),l.a.createElement(I,{postsPerPage:p,totalPosts:a.length,paginate:function(e){return h(e)}}))};var P=function(){return l.a.createElement(i.a,null,l.a.createElement("div",null,l.a.createElement(p,null),l.a.createElement("br",null),l.a.createElement(c.a,{path:"/community-library/",exact:!0,component:L}),l.a.createElement(c.a,{path:"/show/:id",component:C}),l.a.createElement(c.a,{path:"/add",component:x})))};o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(P,null)),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.dc300ded.chunk.js.map